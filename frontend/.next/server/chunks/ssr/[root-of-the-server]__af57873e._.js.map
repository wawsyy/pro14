{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///D:/Cursor-Ku/demo14/pro14/frontend/fhevm/GenericStringStorage.ts"],"sourcesContent":["export interface GenericStringStorage {\r\n  getItem(key: string): string | Promise<string | null> | null;\r\n  setItem(key: string, value: string): void | Promise<void>;\r\n  removeItem(key: string): void | Promise<void>;\r\n}\r\n\r\nexport class GenericStringInMemoryStorage implements GenericStringStorage {\r\n  #store = new Map<string, string>();\r\n\r\n  getItem(key: string): string | Promise<string | null> | null {\r\n    return this.#store.has(key) ? this.#store.get(key)! : null;\r\n  }\r\n  setItem(key: string, value: string): void | Promise<void> {\r\n    this.#store.set(key, value);\r\n  }\r\n  removeItem(key: string): void | Promise<void> {\r\n    this.#store.delete(key);\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAMO,MAAM;IACX,CAAA,KAAM,GAAG,IAAI,MAAsB;IAEnC,QAAQ,GAAW,EAA0C;QAC3D,OAAO,IAAI,CAAC,CAAA,KAAM,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC,CAAA,KAAM,CAAC,GAAG,CAAC,OAAQ;IACxD;IACA,QAAQ,GAAW,EAAE,KAAa,EAAwB;QACxD,IAAI,CAAC,CAAA,KAAM,CAAC,GAAG,CAAC,KAAK;IACvB;IACA,WAAW,GAAW,EAAwB;QAC5C,IAAI,CAAC,CAAA,KAAM,CAAC,MAAM,CAAC;IACrB;AACF","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///D:/Cursor-Ku/demo14/pro14/frontend/hooks/useInMemoryStorage.tsx"],"sourcesContent":["import { createContext, ReactNode, useContext, useState } from \"react\";\r\nimport {\r\n  GenericStringInMemoryStorage,\r\n  GenericStringStorage,\r\n} from \"@/fhevm/GenericStringStorage\";\r\n\r\ninterface UseInMemoryStorageState {\r\n  storage: GenericStringStorage;\r\n}\r\n\r\ninterface InMemoryStorageProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\nconst InMemoryStorageContext = createContext<\r\n  UseInMemoryStorageState | undefined\r\n>(undefined);\r\n\r\nexport const useInMemoryStorage = () => {\r\n  const context = useContext(InMemoryStorageContext);\r\n  if (!context) {\r\n    throw new Error(\r\n      \"useInMemoryStorage must be used within a InMemoryStorageProvider\"\r\n    );\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const InMemoryStorageProvider: React.FC<\r\n  InMemoryStorageProviderProps\r\n> = ({ children }) => {\r\n  const [storage] = useState<GenericStringStorage>(\r\n    new GenericStringInMemoryStorage()\r\n  );\r\n  return (\r\n    <InMemoryStorageContext.Provider value={{ storage }}>\r\n      {children}\r\n    </InMemoryStorageContext.Provider>\r\n  );\r\n};\r\n\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAaA,MAAM,uCAAyB,IAAA,kOAAa,EAE1C;AAEK,MAAM,qBAAqB;IAChC,MAAM,UAAU,IAAA,+NAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MACR;IAEJ;IACA,OAAO;AACT;AAEO,MAAM,0BAET,CAAC,EAAE,QAAQ,EAAE;IACf,MAAM,CAAC,QAAQ,GAAG,IAAA,6NAAQ,EACxB,IAAI,yKAA4B;IAElC,qBACE,0PAAC,uBAAuB,QAAQ;QAAC,OAAO;YAAE;QAAQ;kBAC/C;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///D:/Cursor-Ku/demo14/pro14/frontend/utils/errorHandler.ts"],"sourcesContent":["/**\r\n * Error handling utility functions\r\n * Convert technical errors to user-friendly messages\r\n */\r\n\r\nexport function getFriendlyErrorMessage(error: Error | unknown): string {\r\n  if (!error) return \"An unknown error occurred\";\r\n\r\n  // If error is an object (like transaction object), convert to string\r\n  if (typeof error === 'object' && error !== null && !(error instanceof Error)) {\r\n    // Check if it's a transaction object\r\n    if ('hash' in error || 'blockNumber' in error || 'provider' in error) {\r\n      return \"Transaction processing error, please try again\";\r\n    }\r\n    // Convert other objects to string\r\n    try {\r\n      return `Error: ${JSON.stringify(error).substring(0, 200)}`;\r\n    } catch {\r\n      return `Error: ${Object.keys(error).join(', ')}`;\r\n    }\r\n  }\r\n\r\n  const errorMessage = error instanceof Error ? error.message : String(error);\r\n  const errorName = error instanceof Error ? error.name : \"\";\r\n\r\n  // Handle network-related errors\r\n  if (\r\n    errorMessage.includes(\"Failed to fetch\") ||\r\n    errorMessage.includes(\"fetch failed\") ||\r\n    errorMessage.includes(\"NetworkError\") ||\r\n    errorName === \"TypeError\" && errorMessage.includes(\"fetch\")\r\n  ) {\r\n    return \"Network connection failed, please check your network connection or try again later\";\r\n  }\r\n\r\n  // Handle RPC-related errors\r\n  if (\r\n    errorMessage.includes(\"RPC\") ||\r\n    errorMessage.includes(\"Web3 node\") ||\r\n    errorMessage.includes(\"not reachable\")\r\n  ) {\r\n    if (errorMessage.includes(\"localhost:8545\") || errorMessage.includes(\"127.0.0.1:8545\")) {\r\n      return \"Unable to connect to local Hardhat node, please ensure 'npx hardhat node' is running\";\r\n    }\r\n    return \"Unable to connect to blockchain network, please check network configuration\";\r\n  }\r\n\r\n  // Handle FHEVM SDK loading errors\r\n  if (\r\n    errorMessage.includes(\"RelayerSDK\") ||\r\n    errorMessage.includes(\"FHEVM\") ||\r\n    errorMessage.includes(\"SDK\")\r\n  ) {\r\n    return \"FHEVM SDK loading failed, please refresh the page and try again\";\r\n  }\r\n\r\n  // Handle FHEVM Relayer errors\r\n  if (\r\n    errorMessage.includes(\"Relayer\") ||\r\n    errorMessage.includes(\"relayer\") ||\r\n    errorMessage.includes(\"Bad JSON\") ||\r\n    errorMessage.includes(\"ERR_CONNECTION_CLOSED\") ||\r\n    errorMessage.includes(\"testnet.zama\")\r\n  ) {\r\n    return \"FHEVM Relayer service is temporarily unavailable. Please try again later or use local Hardhat network for testing\";\r\n  }\r\n\r\n  // Handle timeout errors\r\n  if (errorMessage.includes(\"timeout\") || errorMessage.includes(\"aborted\")) {\r\n    return \"Request timeout, please try again later\";\r\n  }\r\n\r\n  // Return original error message if not too technical\r\n  if (errorMessage.length < 100) {\r\n    return errorMessage;\r\n  }\r\n\r\n  return \"Operation failed, please try again later\";\r\n}\r\n\r\n/**\r\n * Check if error is non-critical (can be silently handled)\r\n */\r\nexport function isNonCriticalError(error: Error | unknown): boolean {\r\n  if (!error) return false;\r\n\r\n  const errorMessage = error instanceof Error ? error.message : String(error);\r\n  const errorName = error instanceof Error ? error.name : \"\";\r\n  const errorString = String(error);\r\n  \r\n  // These errors usually don't affect core functionality and can be silently handled\r\n  const nonCriticalPatterns = [\r\n    \"Failed to fetch\",\r\n    \"fetch failed\",\r\n    \"NetworkError\",\r\n    \"aborted\",\r\n    \"RelayerSDK\",\r\n    \"TypeError\", // TypeError is usually network-related\r\n    \"403\", // HTTP 403 error (e.g., web3modal, walletconnect)\r\n    \"400\", // HTTP 400 error (e.g., walletconnect)\r\n    \"ERR_BLOCKED_BY_RESPONSE\", // COEP policy error\r\n    \"NotSameOriginAfterDefaultedToSameOriginByCoep\", // COEP-related error\r\n    \"coinbase.com\", // Coinbase-related error\r\n    \"walletconnect\", // WalletConnect-related error\r\n    \"web3modal\", // Web3Modal-related error\r\n    \"FHEVM operation was cancelled\", // FHEVM normal cancellation\r\n    \"FhevmAbortError\", // FHEVM cancellation error\r\n    \"operation was cancelled\", // Generic cancellation\r\n    \"Relayer\", // Relayer-related errors\r\n    \"relayer\", // Relayer-related errors\r\n    \"ERR_CONNECTION_CLOSED\", // Connection closed errors\r\n    \"testnet.zama\", // Zama testnet errors\r\n  ];\r\n\r\n  // Check error message\r\n  const messageMatches = nonCriticalPatterns.some(pattern => \r\n    errorMessage.includes(pattern) || errorString.includes(pattern)\r\n  );\r\n\r\n  // Special handling for TypeError: Failed to fetch\r\n  if (errorName === \"TypeError\" && (\r\n    errorMessage.includes(\"fetch\") || \r\n    errorString.includes(\"fetch\") ||\r\n    errorMessage === \"\" || // Sometimes error message is empty but type is TypeError\r\n    errorString.includes(\"Failed\")\r\n  )) {\r\n    return true;\r\n  }\r\n\r\n  return messageMatches;\r\n}\r\n\r\n/**\r\n * Silently handle non-critical errors (log to console only, don't throw)\r\n */\r\nexport function handleNonCriticalError(error: Error | unknown, context?: string): void {\r\n  if (isNonCriticalError(error)) {\r\n    const friendlyMessage = getFriendlyErrorMessage(error);\r\n    console.log(\r\n      `[Non-critical error${context ? ` - ${context}` : \"\"}] ${friendlyMessage}`\r\n    );\r\n    return;\r\n  }\r\n  \r\n  // Critical errors are still thrown\r\n  throw error;\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;AAEM,SAAS,wBAAwB,KAAsB;IAC5D,IAAI,CAAC,OAAO,OAAO;IAEnB,qEAAqE;IACrE,IAAI,OAAO,UAAU,YAAY,UAAU,QAAQ,CAAC,CAAC,iBAAiB,KAAK,GAAG;QAC5E,qCAAqC;QACrC,IAAI,UAAU,SAAS,iBAAiB,SAAS,cAAc,OAAO;YACpE,OAAO;QACT;QACA,kCAAkC;QAClC,IAAI;YACF,OAAO,CAAC,OAAO,EAAE,KAAK,SAAS,CAAC,OAAO,SAAS,CAAC,GAAG,MAAM;QAC5D,EAAE,OAAM;YACN,OAAO,CAAC,OAAO,EAAE,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO;QAClD;IACF;IAEA,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;IACrE,MAAM,YAAY,iBAAiB,QAAQ,MAAM,IAAI,GAAG;IAExD,gCAAgC;IAChC,IACE,aAAa,QAAQ,CAAC,sBACtB,aAAa,QAAQ,CAAC,mBACtB,aAAa,QAAQ,CAAC,mBACtB,cAAc,eAAe,aAAa,QAAQ,CAAC,UACnD;QACA,OAAO;IACT;IAEA,4BAA4B;IAC5B,IACE,aAAa,QAAQ,CAAC,UACtB,aAAa,QAAQ,CAAC,gBACtB,aAAa,QAAQ,CAAC,kBACtB;QACA,IAAI,aAAa,QAAQ,CAAC,qBAAqB,aAAa,QAAQ,CAAC,mBAAmB;YACtF,OAAO;QACT;QACA,OAAO;IACT;IAEA,kCAAkC;IAClC,IACE,aAAa,QAAQ,CAAC,iBACtB,aAAa,QAAQ,CAAC,YACtB,aAAa,QAAQ,CAAC,QACtB;QACA,OAAO;IACT;IAEA,8BAA8B;IAC9B,IACE,aAAa,QAAQ,CAAC,cACtB,aAAa,QAAQ,CAAC,cACtB,aAAa,QAAQ,CAAC,eACtB,aAAa,QAAQ,CAAC,4BACtB,aAAa,QAAQ,CAAC,iBACtB;QACA,OAAO;IACT;IAEA,wBAAwB;IACxB,IAAI,aAAa,QAAQ,CAAC,cAAc,aAAa,QAAQ,CAAC,YAAY;QACxE,OAAO;IACT;IAEA,qDAAqD;IACrD,IAAI,aAAa,MAAM,GAAG,KAAK;QAC7B,OAAO;IACT;IAEA,OAAO;AACT;AAKO,SAAS,mBAAmB,KAAsB;IACvD,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO;IACrE,MAAM,YAAY,iBAAiB,QAAQ,MAAM,IAAI,GAAG;IACxD,MAAM,cAAc,OAAO;IAE3B,mFAAmF;IACnF,MAAM,sBAAsB;QAC1B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,sBAAsB;IACtB,MAAM,iBAAiB,oBAAoB,IAAI,CAAC,CAAA,UAC9C,aAAa,QAAQ,CAAC,YAAY,YAAY,QAAQ,CAAC;IAGzD,kDAAkD;IAClD,IAAI,cAAc,eAAe,CAC/B,aAAa,QAAQ,CAAC,YACtB,YAAY,QAAQ,CAAC,YACrB,iBAAiB,MAAM,yDAAyD;IAChF,YAAY,QAAQ,CAAC,SACvB,GAAG;QACD,OAAO;IACT;IAEA,OAAO;AACT;AAKO,SAAS,uBAAuB,KAAsB,EAAE,OAAgB;IAC7E,IAAI,mBAAmB,QAAQ;QAC7B,MAAM,kBAAkB,wBAAwB;QAChD,QAAQ,GAAG,CACT,CAAC,mBAAmB,EAAE,UAAU,CAAC,GAAG,EAAE,SAAS,GAAG,GAAG,EAAE,EAAE,iBAAiB;QAE5E;IACF;IAEA,mCAAmC;IACnC,MAAM;AACR","debugId":null}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///D:/Cursor-Ku/demo14/pro14/frontend/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ReactNode } from \"react\";\nimport { useEffect } from \"react\";\nimport { WagmiProvider } from \"wagmi\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { RainbowKitProvider, getDefaultConfig } from \"@rainbow-me/rainbowkit\";\nimport \"@rainbow-me/rainbowkit/styles.css\";\nimport { sepolia, hardhat } from \"wagmi/chains\";\nimport { http } from \"wagmi\";\nimport { InMemoryStorageProvider } from \"@/hooks/useInMemoryStorage\";\nimport { isNonCriticalError, getFriendlyErrorMessage } from \"@/utils/errorHandler\";\n\nconst config = getDefaultConfig({\n  appName: \"Weight Trend\",\n  projectId: \"WEIGHT_TREND_FHEVM\",\n  chains: [sepolia, hardhat],\n  ssr: false,\n  transports: {\n    [sepolia.id]: http(`https://sepolia.infura.io/v3/${process.env.NEXT_PUBLIC_INFURA_API_KEY || \"b18fb7e6ca7045ac83c41157ab93f990\"}`),\n    [hardhat.id]: http(\"http://localhost:8545\"),\n  },\n});\n\nconst queryClient = new QueryClient();\n\ntype Props = {\n  children: ReactNode;\n};\n\nexport function Providers({ children }: Props) {\n  // Global error handling: silently handle non-critical network errors\n  useEffect(() => {\n    // Save original console methods\n    const originalConsoleError = console.error;\n    const originalConsoleWarn = console.warn;\n\n    // Override console.error to intercept error output\n    console.error = (...args: unknown[]) => {\n      // Check if it's a \"Failed to fetch\" related error\n      const errorString = args.map(arg => {\n        if (arg instanceof Error) {\n          return `${arg.name}: ${arg.message}`;\n        }\n        if (typeof arg === 'string') {\n          return arg;\n        }\n        try {\n          return JSON.stringify(arg);\n        } catch {\n          return String(arg);\n        }\n      }).join(\" \");\n      \n      // Check various possible non-critical error formats\n      // Including bundled anonymous function errors, network errors, third-party service errors\n      const isNonCritical = \n        errorString.includes(\"Failed to fetch\") ||\n        errorString.includes(\"failed to fetch\") ||\n        errorString.includes(\"403\") ||\n        errorString.includes(\"400\") ||\n        errorString.includes(\"ERR_BLOCKED_BY_RESPONSE\") ||\n        errorString.includes(\"NotSameOriginAfterDefaultedToSameOriginByCoep\") ||\n        errorString.includes(\"coinbase.com\") ||\n        errorString.includes(\"walletconnect\") ||\n        errorString.includes(\"web3modal\") ||\n        errorString.includes(\"FHEVM operation was cancelled\") ||\n        errorString.includes(\"FhevmAbortError\") ||\n        errorString.includes(\"operation was cancelled\") ||\n        (errorString.includes(\"TypeError\") && (\n          errorString.includes(\"fetch\") || \n          errorString.includes(\"Failed\") ||\n          errorString.includes(\"<anonymous>\") // Bundled code location\n        ));\n      \n      if (isNonCritical) {\n        // Completely silent handling, no output\n        return;\n      }\n      \n      // Other errors output normally\n      originalConsoleError.apply(console, args);\n    };\n\n    // Override console.warn to intercept warning output (optional)\n    console.warn = (...args: unknown[]) => {\n      const warnString = args.map(arg => {\n        if (arg instanceof Error) {\n          return `${arg.name}: ${arg.message}`;\n        }\n        return String(arg);\n      }).join(\" \");\n\n      // Silently handle non-critical warnings\n      const isNonCriticalWarn = \n        warnString.includes(\"Failed to fetch remote project configuration\") ||\n        warnString.includes(\"Reown Config\") ||\n        warnString.includes(\"Could not load signature\") ||\n        warnString.includes(\"Lit is in dev mode\") ||\n        warnString.includes(\"React DevTools\");\n      \n      if (isNonCriticalWarn) {\n        // Completely silent warning handling\n        return;\n      }\n      \n      // Other warnings output normally\n      originalConsoleWarn.apply(console, args);\n    };\n\n    const handleError = (event: ErrorEvent) => {\n      // Ensure error is an Error object, handle special cases like transaction objects\n      let error: Error;\n      if (event.error instanceof Error) {\n        error = event.error;\n      } else if (typeof event.error === 'object' && event.error !== null) {\n        // Check if it's a transaction object\n        if ('hash' in event.error || 'blockNumber' in event.error || 'provider' in event.error) {\n          error = new Error(\"Transaction processing error, please try again\");\n        } else {\n          error = new Error(`Error event with object: ${Object.keys(event.error).join(', ')}`);\n        }\n      } else {\n        error = new Error(event.message || String(event));\n      }\n      \n      // If non-critical error (e.g., Failed to fetch), silently handle\n      if (isNonCriticalError(error)) {\n        event.preventDefault(); // Prevent default error handling\n        event.stopPropagation(); // Stop event propagation\n        // No logging, completely silent\n        return false;\n      }\n    };\n\n    const handleUnhandledRejection = (event: PromiseRejectionEvent) => {\n      // Ensure error is an Error object, handle special cases like transaction objects\n      let error: Error;\n      if (event.reason instanceof Error) {\n        error = event.reason;\n      } else if (typeof event.reason === 'object' && event.reason !== null) {\n        // Check if it's a transaction object\n        if ('hash' in event.reason || 'blockNumber' in event.reason || 'provider' in event.reason) {\n          error = new Error(\"Transaction processing error, please try again\");\n        } else {\n          error = new Error(`Promise rejected with object: ${Object.keys(event.reason).join(', ')}`);\n        }\n      } else {\n        error = new Error(String(event.reason));\n      }\n      \n      // If non-critical error, silently handle\n      if (isNonCriticalError(error)) {\n        event.preventDefault(); // Prevent default error handling\n        // No logging, completely silent\n        return false;\n      }\n    };\n\n    window.addEventListener(\"error\", handleError, true); // Use capture phase\n    window.addEventListener(\"unhandledrejection\", handleUnhandledRejection);\n\n    return () => {\n      // Restore original console methods\n      console.error = originalConsoleError;\n      console.warn = originalConsoleWarn;\n      window.removeEventListener(\"error\", handleError, true);\n      window.removeEventListener(\"unhandledrejection\", handleUnhandledRejection);\n    };\n  }, []);\n\n  return (\n    <WagmiProvider config={config}>\n      <QueryClientProvider client={queryClient}>\n        <RainbowKitProvider locale=\"en\">\n          <InMemoryStorageProvider>{children}</InMemoryStorageProvider>\n        </RainbowKitProvider>\n      </QueryClientProvider>\n    </WagmiProvider>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///D:/Cursor-Ku/demo14/pro14/frontend/components/ErrorBoundary.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Component, ReactNode } from \"react\";\r\nimport { isNonCriticalError, getFriendlyErrorMessage } from \"@/utils/errorHandler\";\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  fallback?: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n  error: Error | null;\r\n}\r\n\r\nexport class ErrorBoundary extends Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: unknown): State {\r\n    // Ensure error is an Error object, wrap it if not\r\n    const errorObj = error instanceof Error \r\n      ? error \r\n      : new Error(typeof error === 'object' && error !== null \r\n          ? JSON.stringify(error) \r\n          : String(error));\r\n    \r\n    return { hasError: true, error: errorObj };\r\n  }\r\n\r\n  componentDidCatch(error: unknown, errorInfo: React.ErrorInfo) {\r\n    // Ensure error is an Error object\r\n    const errorObj = error instanceof Error \r\n      ? error \r\n      : new Error(typeof error === 'object' && error !== null \r\n          ? `Non-Error object caught: ${Object.keys(error).join(', ')}` \r\n          : String(error));\r\n\r\n    // If non-critical error, silently handle (log to console only)\r\n    if (isNonCriticalError(errorObj)) {\r\n      // Reset error state to allow app to continue\r\n      setTimeout(() => {\r\n        this.setState({ hasError: false, error: null });\r\n      }, 100);\r\n      return;\r\n    }\r\n\r\n    // Only log critical errors\r\n    console.error(\"[ErrorBoundary] Caught error:\", errorObj, errorInfo);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError && this.state.error) {\r\n      // Non-critical errors don't show fallback, let app continue\r\n      // componentDidCatch already set reset, just return children here\r\n      if (isNonCriticalError(this.state.error)) {\r\n        return this.props.children;\r\n      }\r\n\r\n      // Critical errors show fallback\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      // Ensure error message is a string\r\n      const errorMessage = getFriendlyErrorMessage(this.state.error);\r\n      const safeErrorMessage = typeof errorMessage === 'string' \r\n        ? errorMessage \r\n        : String(errorMessage);\r\n\r\n      return (\r\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n          <h2 className=\"text-lg font-semibold text-red-800 mb-2\">\r\n            An Error Occurred\r\n          </h2>\r\n          <p className=\"text-red-600\">\r\n            {safeErrorMessage}\r\n          </p>\r\n          <button\r\n            onClick={() => this.setState({ hasError: false, error: null })}\r\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAeO,MAAM,sBAAsB,8NAAS;IAC1C,YAAY,KAAY,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YAAE,UAAU;YAAO,OAAO;QAAK;IAC9C;IAEA,OAAO,yBAAyB,KAAc,EAAS;QACrD,kDAAkD;QAClD,MAAM,WAAW,iBAAiB,QAC9B,QACA,IAAI,MAAM,OAAO,UAAU,YAAY,UAAU,OAC7C,KAAK,SAAS,CAAC,SACf,OAAO;QAEf,OAAO;YAAE,UAAU;YAAM,OAAO;QAAS;IAC3C;IAEA,kBAAkB,KAAc,EAAE,SAA0B,EAAE;QAC5D,kCAAkC;QAClC,MAAM,WAAW,iBAAiB,QAC9B,QACA,IAAI,MAAM,OAAO,UAAU,YAAY,UAAU,OAC7C,CAAC,yBAAyB,EAAE,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,GAC3D,OAAO;QAEf,+DAA+D;QAC/D,IAAI,IAAA,uJAAkB,EAAC,WAAW;YAChC,6CAA6C;YAC7C,WAAW;gBACT,IAAI,CAAC,QAAQ,CAAC;oBAAE,UAAU;oBAAO,OAAO;gBAAK;YAC/C,GAAG;YACH;QACF;QAEA,2BAA2B;QAC3B,QAAQ,KAAK,CAAC,iCAAiC,UAAU;IAC3D;IAEA,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE;YAC3C,4DAA4D;YAC5D,iEAAiE;YACjE,IAAI,IAAA,uJAAkB,EAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;gBACxC,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,gCAAgC;YAChC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,mCAAmC;YACnC,MAAM,eAAe,IAAA,4JAAuB,EAAC,IAAI,CAAC,KAAK,CAAC,KAAK;YAC7D,MAAM,mBAAmB,OAAO,iBAAiB,WAC7C,eACA,OAAO;YAEX,qBACE,0PAAC;gBAAI,WAAU;;kCACb,0PAAC;wBAAG,WAAU;kCAA0C;;;;;;kCAGxD,0PAAC;wBAAE,WAAU;kCACV;;;;;;kCAEH,0PAAC;wBACC,SAAS,IAAM,IAAI,CAAC,QAAQ,CAAC;gCAAE,UAAU;gCAAO,OAAO;4BAAK;wBAC5D,WAAU;kCACX;;;;;;;;;;;;QAKP;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF","debugId":null}}]
}